(()=>{"use strict";const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,l=window.wp.components,n=window.wp.i18n;(0,t.registerBlockType)("wpm/language-switcher",{title:"Language Switcher",supports:{multiple:!1},parent:["core/navigation","core/post-content"],attributes:{switchType:{type:"string",default:"dropdown"},switchShow:{type:"string",default:"both"}},edit:function(t){var c=t.attributes;const{attributes:{mySelect:w},setAttributes:i}=t,s=[{label:(0,n.__)("Drop Down","wp-multilang"),value:"dropdown"},{label:(0,n.__)("List","wp-multilang"),value:"list"},{label:(0,n.__)("Select","wp-multilang"),value:"select"}],m=[{label:(0,n.__)("Both","wp-multilang"),value:"both"},{label:(0,n.__)("Flag","wp-multilang"),value:"flag"},{label:(0,n.__)("Name","wp-multilang"),value:"name"}],h=wpmLanguageSwitcher.lang,o=wpmLanguageSwitcher.languages,r=wpmLanguageSwitcher.flag_url,g=r+o[h].flag,u=o[h].name,p=(window.location.href,Object.keys(o));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(l.PanelBody,null,(0,e.createElement)(l.SelectControl,{label:(0,n.__)("Type","wp-multilang"),value:c.switchType,options:s,onChange:e=>i({switchType:e})}),(0,e.createElement)(l.SelectControl,{label:(0,n.__)("Show","wp-multilang"),value:c.switchShow,options:m,onChange:e=>i({switchShow:e})}))),(0,e.createElement)("div",null,"dropdown"==c.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher switcher-dropdown"},(0,e.createElement)("li",{className:"item-language-main item-language-en"},(0,e.createElement)("span",null,("flag"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("img",{src:g,alt:u}),("name"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("span",null,u)),(0,e.createElement)("ul",{className:"language-dropdown"},p.map(((t,a)=>t!=h&&(0,e.createElement)("li",{key:a,className:"item-language-"+t},(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("img",{src:r+o[t].flag,alt:o[t].name}),("name"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("span",null,o[t].name)))))))):"list"==c.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher switcher-list"},p.map(((t,a)=>(0,e.createElement)("li",{key:a,className:"item-language-"+t},h==t&&(0,e.createElement)("span",{"data-lang":t},("flag"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("img",{src:r+o[t].flag,alt:o[t].name}),("name"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("span",null,o[t].name)),h!=t&&(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("img",{src:r+o[t].flag,alt:o[t].name}),("name"==c.switchShow||"both"==c.switchShow)&&(0,e.createElement)("span",null,o[t].name)))))):"select"==c.switchType?(0,e.createElement)("select",{className:"wpm-language-switcher switcher-select",title:(0,n.__)("Language Switcher","wp-multilang")},p.map(((t,a)=>h!=t?(0,e.createElement)("option",{key:a,value:t,"data-lang":t},o[t].name):(0,e.createElement)("option",{key:a,value:t,"data-lang":t,selected:"selected"},o[t].name)))):void 0))},save:function(t){var a=t.attributes;(0,n.__)("Drop Down","wp-multilang"),(0,n.__)("List","wp-multilang"),(0,n.__)("Select","wp-multilang"),(0,n.__)("Both","wp-multilang"),(0,n.__)("Flag","wp-multilang"),(0,n.__)("Name","wp-multilang");const l=wpmLanguageSwitcher.lang,c=wpmLanguageSwitcher.languages,w=wpmLanguageSwitcher.flag_url,i=w+c[l].flag,s=c[l].name,m=(window.location.href,Object.keys(c));return(0,e.createElement)("div",null,"dropdown"==a.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher switcher-dropdown"},(0,e.createElement)("li",{className:"item-language-main item-language-en"},(0,e.createElement)("span",null,("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:i,alt:s}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,s)),(0,e.createElement)("ul",{className:"language-dropdown"},m.map(((t,n)=>t!=l&&(0,e.createElement)("li",{key:n,className:"item-language-"+t},(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:w+c[t].flag,alt:c[t].name}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,c[t].name)))))))):"list"==a.switchType?(0,e.createElement)("ul",{className:"wpm-language-switcher switcher-list"},m.map(((t,n)=>(0,e.createElement)("li",{key:n,className:"item-language-"+t},l==t&&(0,e.createElement)("span",{"data-lang":t},("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:w+c[t].flag,alt:c[t].name}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,c[t].name)),l!=t&&(0,e.createElement)("a",{href:"#","data-lang":t},("flag"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("img",{src:w+c[t].flag,alt:c[t].name}),("name"==a.switchShow||"both"==a.switchShow)&&(0,e.createElement)("span",null,c[t].name)))))):"select"==a.switchType?(0,e.createElement)("select",{className:"wpm-language-switcher switcher-select",title:(0,n.__)("Language Switcher","wp-multilang")},m.map(((t,a)=>l!=t?(0,e.createElement)("option",{key:a,value:t,"data-lang":t},c[t].name):(0,e.createElement)("option",{key:a,value:t,"data-lang":t,selected:"selected"},c[t].name)))):void 0)}})})();